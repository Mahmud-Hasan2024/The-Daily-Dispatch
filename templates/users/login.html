{% extends 'base.html' %}
{% load widget_tweaks %}
{% block title %}Login{% endblock %}
{% block content %}
<div class="bg-base-200 py-20 px-4">
  <div class="max-w-md mx-auto card shadow-2xl bg-base-100">
    <div class="card-body">
      <h1 class="text-3xl font-bold text-center mb-6">Welcome Back</h1>

      <form method="post" class="space-y-5">
        {% csrf_token %}

        {# Display messages #}
        {% if messages %}
            {% for message in messages %}
                <div class="px-2 py-1 {% if message.tags == 'success' %}bg-green-500{% endif %} ">{{message}}</div>
            {% endfor %}
        {% endif %}

        {# Display non-field errors #}
        {% if form.non_field_errors %}
          <div class="alert alert-error text-sm">
            {% for error in form.non_field_errors %}
              <p>{{ error }}</p>
            {% endfor %}
          </div>
        {% endif %}

        {# Display field errors #}
        {% for field in form %}
          <div class="form-control">
            <label class="label block mb-1">
              <span class="label-text font-medium">{{ field.label }}</span>
            </label>
            {{ field|add_class:"input input-bordered w-full" }}
            {% if field.errors %}
              <p class="text-error text-sm mt-1">{{ field.errors|striptags }}</p>
            {% endif %}
          </div>
        {% endfor %}

        <button type="submit" class="btn btn-primary w-full">Sign in</button>
      </form>

      <a href="{% url 'users:password_reset' %}" class="text-blue-500 mt-4">Forgot your password?</a>

      <p class="mt-6 text-center text-sm">
        Donâ€™t have an account?
        <a href="{% url 'users:signup' %}" class="link link-primary">Sign up</a>
      </p>
    </div>
  </div>
</div>
{% endblock %}
